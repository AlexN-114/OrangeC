<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
  <title>OLink Command Line Options</title>
  <meta content="david" name="author">
</head>
<body>
<div style="text-align: center;">
<h2><span style="font-family: Helvetica,Arial,sans-serif;">OLink
Command Line Options</span></h2>
<div style="text-align: left;">The general format of an <span
 style="font-weight: bold;">OLink</span> command
line is:<br>
<br>
<span style="font-family: Courier New,Courier,monospace;">OLink
[options] file-list</span><br
 style="font-family: Courier New,Courier,monospace;">
<br>
<span style="font-family: Times New Roman,Times,serif;">where <span
 style="font-style: italic;">file-list</span> is an arbitrary list of
input files.</span><br>
<br>
For example:<br>
<br>
<span style="font-family: Courier New,Courier,monospace;">OAsm one.o
two.o three.o</span><br
 style="font-family: Courier New,Courier,monospace;">
<br>
links <span style="font-family: Times New Roman,Times,serif;"><span
 style="font-family: Times New Roman,Times,serif;">several object
files and makes an output file called <span style="font-weight: bold;">one.rel</span>.</span>&nbsp;
By default
<span style="font-weight: bold;">OLink</span> takes the name of the
first file on the command line, and
replaces it with the extension <span style="font-weight: bold;">.rel</span>,
to decide on an output file name.<br>
<br>
The file list can have wildcards:<br>
<br>
<span style="font-family: Courier New,Courier,monospace;">OLink
/otest.rel *.o</span><br
 style="font-family: Courier New,Courier,monospace;">
<br>
&nbsp;links all the files in the curent directory, and the results are
put in <span style="font-weight: bold;">test.rel</span> because the <span
 style="font-weight: bold;">/o</span> command line switch is specified.<br>
<br>
</span>
<h3 style="text-align: center;"><span
 style="font-family: Helvetica,Arial,sans-serif;">Response Files</span></h3>
<span style="font-family: Times New Roman,Times,serif;">Response files
can be used as an alternate to specifying input on the command
line.&nbsp; For example:<br>
<br>
<span style="font-family: Courier New,Courier,monospace;">OLink
@myresp.lst</span><br
 style="font-family: Courier New,Courier,monospace;">
<br>
will take command line options from <span
 style="font-family: Times New Roman,Times,serif; font-weight: bold;">myresp.lst</span>.&nbsp;
This is useful for example when there are many <span
 style="font-weight: bold;">.o</span> or <span
 style="font-weight: bold;">.l</span> files being
merged and it is not convenient to specify them on the command line.<br>
<br>
<br>
</span><span style="font-family: Times New Roman,Times,serif;"></span>
<h3 style="text-align: center;"><span
 style="font-family: Helvetica,Arial,sans-serif;">Case Sensitivity</span></h3>
By default <span style="font-weight: bold;">OLink</span> treats
symbols as case-insensitive.&nbsp; <span
 style="font-family: Times New Roman,Times,serif;">If the <span
 style="font-weight: bold;">-c+</span>
switch is specified on the command line, labels will be treated as case
sensitive.&nbsp; This supports certain language compilers that do allow
the user to type the same word in different case, and have it mean
different things.</span><br>
</div>
<br>
</div>
<h3 style="text-align: center;"><span
 style="font-family: Helvetica,Arial,sans-serif;">Specifying the output
file name</span><br>
</h3>
<span style="font-family: Times New Roman,Times,serif;"><span
 style="font-family: Times New Roman,Times,serif;"></span><br>
<span style="font-family: Times New Roman,Times,serif;">By default,
<span style="font-weight: bold;">OLink</span> will take the first input
file name, and replace the extension
with the
extension <span style="font-weight: bold;">.rel </span>to create the
name of the output file.<br>
<br>
</span></span>However in some cases it is useful to be able to specify
the output
file name.&nbsp; The specified name can have its extension specified,
or it
can be typed without an extension to allow <span
 style="font-weight: bold;">OLink</span> to add the <span
 style="font-weight: bold;">.rel</span>
extension.<br>
<span style="font-family: Courier New,Courier,monospace;"></span><br>
<span style="font-family: Courier New,Courier,monospace;">OLink
/r+ /omyfile test1.o test2.o test3.o cl.l</span><br
 style="font-family: Courier New,Courier,monospace;">
<br>
makes an object file called <span style="font-weight: bold;">myfile.rel</span><span
 style="font-family: Courier New,Courier,monospace;"></span>.<br>
<br>
<h3 style="text-align: center;"><span
 style="font-family: Helvetica,Arial,sans-serif;">Specifying Lib File
Path<br>
</span></h3>
<span style="font-family: Times New Roman,Times,serif;">By default,
<span style="font-weight: bold;">OLink</span> will search for library
files in the C Compiler library file
path, and in the current directory.&nbsp; The <span
 style="font-weight: bold;">/L</span> option may be used to
specify additional directories to search for lib files:<br>
<br>
<span style="font-family: Courier New,Courier,monospace;">OLink
/L..\mylibs test.o floating.l</span><br
 style="font-family: Courier New,Courier,monospace;">
<br>
will find <span style="font-weight: bold;">floating.l </span>either
in the C compiler library directory, the
current directory, or the directory ..\mylibs.<br>
<br>
<br>
</span><span style="font-family: Times New Roman,Times,serif;"></span>
<h3 style="text-align: center;"><span
 style="font-family: Helvetica,Arial,sans-serif;">Defining variables</span></h3>
<span style="font-weight: bold;">OLink</span> allows definition of
global variables on the command line, and gives them an
absolute address.&nbsp; This facility can be used either to set the
location of a function or data, or to provide a constant value to a
<a href="OLink%20Specification%20Files.html">specification file</a>
entry or user code.&nbsp; If it is necessary to
define a variable on the command line, use the
switch <span style="font-weight: bold;">/D</span>.&nbsp; <br>
<br>
For example<br>
<br>
<span style="font-family: Courier New,Courier,monospace;">OLink
/DRAM=0x80000000 myprog.o</span><br
 style="font-family: Courier New,Courier,monospace;">
<br>
Defines a global variable RAM which has the address 80000000 hex.&nbsp;
This variable may be accessed externally from either the program code,
or the specification file.&nbsp; It might be used for example to
relocate code or data, to specify the address of some hardware, and so
forth.<br>
<br>
Decimal values for addresses may be provided by omitting the <span
 style="font-weight: bold;">0x</span> prefix.&nbsp; <br>
<h3 style="text-align: center;"><span
 style="font-family: Helvetica,Arial,sans-serif;">Complete Link</span></h3>
<span style="font-family: Times New Roman,Times,serif;">By default,
<span style="font-weight: bold;">OLink</span> performs a partial
link.&nbsp; <span style="font-weight: bold;"></span>In a partial link,
some global
definitions may remain unresolved, and libraries are ignored.&nbsp; The
output file may be further linked with more object files or with the
result of other partial links.&nbsp; However, a partial link cannot be
used to generate a rom image or executable file, because not all the
information required for such binaries has been generated; specifically
there may be some addresses that haven't been defined yet.<br>
<br>
Usually, a complete link happens automatically when the <span
 style="font-weight: bold;">/T</span> switch is
used to specify a <a href="OLink%20Target%20Configurations.html">target
configuration</a>.&nbsp;
However in some cases it is desirable to indicate to the
linker that a complete link is desired without specifying a target
configuration.&nbsp; Use <span style="font-weight: bold;">/r+</span>
for this purpose.<br>
</span><br>
<h3 style="text-align: center;"><span
 style="font-family: Helvetica,Arial,sans-serif;">Map File</span></h3>
To generate a map file, use the <span style="font-weight: bold;">/m </span>switch.&nbsp;
The map file name will
be the same as the name of the <span style="font-weight: bold;">.rel</span>
file, with the extension replaced
by <span style="font-weight: bold;">.map</span>.&nbsp; The standard
map file summarizes the partitions the
program is contained in, and then lists publics in both alphabetic and
numeric order.&nbsp; <br>
<br>
A more detailed map file may be obtained by using
<span style="font-weight: bold;">/mx</span>.&nbsp; This gives a list of
partitions, overlays, regions, and files that
went into making up the program, in the order they were included.&nbsp;
It also includes details of the attributes used to place the sections.<br>
<br>
<h3 style="text-align: center;"><span
 style="font-family: Helvetica,Arial,sans-serif;">Specification file</span></h3>
Sometimes a default <a href="OLink%20Specification%20Files.html">specification
file</a> will be selected automatically
with the <span style="font-weight: bold;">/T</span> <a
 href="OLink%20Target%20Configurations.html">target
configuration</a> switch.&nbsp; This specification file
may be overridden with the <span style="font-weight: bold;">/s</span>
switch; or if the <span style="font-weight: bold;">/T</span> switch is
not
specified the <span style="font-weight: bold;">/s</span> switch may be
used to select a specification
file.&nbsp; For example:<br>
<br>
<span style="font-family: Courier New,Courier,monospace;">OLink
/smyprog.spc myprog.o<br>
<br>
</span>
<div style="text-align: center;">
<h3><span style="font-family: Courier New,Courier,monospace;"></span></h3>
<h3><span style="font-family: Helvetica,Arial,sans-serif;">Target
Configuration</span></h3>
<div style="text-align: left;"><span
 style="font-family: Times New Roman,Times,serif;">The <a
 href="OLink%20Target%20Configurations.html">target
configuration</a> switch specifies that a specific profile be used to
build
the target.&nbsp; The profile includes a <a
 href="OLink%20Specification%20Files.html">specification file</a>,
default
definitions, a post-processing program to run, and some other
information.</span>&nbsp; The link will be done with the given
parameters, and then the post-processing program will be run to
generate the final ROM image or executable file.<br>
<br>
For example:<br>
<br>
<span style="font-family: Courier New,Courier,monospace;">OLink /T:M3
myprog.o</span><br style="font-family: Courier New,Courier,monospace;">
<br>
selects the specification profile that builds a Motorola Hex file with
four-byte addresses.<br>
<br>
<h3 style="text-align: center;"><span
 style="font-family: Helvetica,Arial,sans-serif;">Link Only</span></h3>
Sometimes when a <a href="OLink%20Target%20Configurations.html">target
configuration</a> has been specified, it is
desirable to stop after generating the <span style="font-weight: bold;">.rel</span>
file instead of going on to
build the ROM Image or Executable.&nbsp; This may be done by specifying
the <span style="font-weight: bold;">/l</span> switch on the command
line.<br>
<br>
</div>
</div>
</body>
</html>
