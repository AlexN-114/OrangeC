<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
  <title>OLink</title>
  <meta content="david" name="author">
</head>
<body>
<h1 style="text-align: center;"><span
 style="font-family: Helvetica,Arial,sans-serif;">OLink</span></h1>
<br>
<span style="font-family: Times New Roman,Times,serif;"><span
 style="font-weight: bold;">OLink</span> takes the
output files from compilers and assemblers, and merges them
together.&nbsp; This merging is necessary because often</span> a single
source file will either declare 'global' code or data that is
accessible from other source files, or reference such global data from
another file.&nbsp; Each output file from a compiler or assembler will
have a list of these kinds of declarations, and the linker has two
tasks:&nbsp; to combine the actual code and data from different files,
and to resolve these global references between files.<br>
<br>
When it comes to the actual data being combined, the compiler or
assembler will organize the code and data into <span
 style="font-weight: bold;">sections</span>.&nbsp; Each
section has a name, and this name is one of the criteria used in
combining section data.&nbsp; For example a code section might contain
the code fragments from the file, an initialized data section might
hold initialized data, and an uninitialized data section might reserve
space for uninitialized data.&nbsp; In compiler output, other sections
might occur for example to hold constant data, string data, or control
information.&nbsp; An assembly program can directly control the
segmentation of code and data into sections, and any number of
arbitrary sections may appear according to the needs of the program.<br>
<br>
It should be stressed that OLink does not generate actual ROM images or
executable files; all it does is combine code and data, and resolve the
global references.&nbsp; Another post-processing program is used to
generate the ROM image or executable file, based on the output of <span
 style="font-weight: bold;">OLink</span>.<br>
<br>
The output of <span style="font-weight: bold;">OLink</span> can be
guided through use of a <a href="OLink%20Specification%20Files.html">specification
file</a>
and through command-line defines.&nbsp; The specification file
indicates the ordering and grouping of sections, and gives default
addresses and other attributes to the groupings.&nbsp; Command-line
defines can be used to taylor the specifics of how the specification
file is used; in OLink the command line defines generally act in terms
of giving an absolute address to a variable which has been referenced
elsewhere.<br>
<br>
<h2 style="text-align: center; font-family: Helvetica,Arial,sans-serif;">Command
Line Options</h2>
<span style="font-family: Times New Roman,Times,serif;">The general
form of an <span style="font-weight: bold;">OLink </span><a
 href="OLink%20Command%20Line%20Options.html">Command Line</a> is:</span><br
 style="font-family: Times New Roman,Times,serif;">
<br style="font-family: Times New Roman,Times,serif;">
<span style="font-family: Times New Roman,Times,serif;"><span
 style="font-family: Courier New,Courier,monospace;">OLink [options]
filename-list</span><br
 style="font-family: Courier New,Courier,monospace;">
<br>
Where <span style="font-style: italic;">filename-list</span> gives a
list of files to merge together.&nbsp;
<span style="font-weight: bold;">OLink</span> natively understands
files of the extension <span style="font-weight: bold;">.o</span> and <span
 style="font-weight: bold;">.l</span>, when
generated by other tools in this package.&nbsp; Generally it will pass
other
files specified on the command line to a ROM-Image or EXE-Building tool
for further analysis.&nbsp; For example <span
 style="font-weight: bold;">.res</span> (windows resource) files
are passed on to DLPE to help it build the executable.<br>
<br>
<span style="font-weight: bold;">Olink</span> takes the files in <span
 style="font-style: italic;">filename-list</span>, and produces an
output file
with a <span style="font-weight: bold;">.rel </span>extension.<br>
<br>
</span><span style="font-family: Times New Roman,Times,serif;"></span>
<div style="text-align: center;">
<h2><span style="font-family: Helvetica,Arial,sans-serif;">Specification
Files</span></h2>
<div style="text-align: left;"><span
 style="font-family: Times New Roman,Times,serif;"><a
 href="OLink%20Specification%20Files.html">Specification files</a>
give a flexible method for specifying how to merge sections from the
various input files.&nbsp; They can specify what code and data be
combined
together, in what order, and what the address of code and
data should be.&nbsp; A specification file uses three basic constructs,
and
each construct can be further clarified with attributes.&nbsp; <br>
<br>
At the
top level there can be one or more <span style="font-weight: bold;">Partitions</span>.&nbsp;&nbsp;
Each
partition can be relocated independently of other partitions.&nbsp; <br>
<br>
A
partition contains one or more <span style="font-weight: bold;">Overlays</span>.&nbsp;
The overlays are
independendent units of code or data, which are overlayed onto a common
region of memory.&nbsp; The overlay mechanism can be used for example
in systems that need to use bank-switching to extend the amount of
memory available.&nbsp; <br>
<br>
An overlay contains <span style="font-weight: bold;">Regions</span>,
which simply
specify the names of sections that should be combined together.&nbsp;
The regions can be actual section names, or expressions containing
section names.&nbsp; Normally a region would contain all sections
matching the section name from
all input files, but, a Region can be further clarified with a list of
files that should be considered for inclusion.&nbsp; In this way
different files with the same section can be combined into different
overlays.<br>
<br>
</span></div>
<h2><span style="font-family: Helvetica,Arial,sans-serif;">Target
Configurations</span></h2>
<div style="text-align: left;"><br>
</div>
<div style="text-align: left;"><a
 href="OLink%20Target%20Configurations.html">Target configurations</a>
specify the
default mechanism for taking the linker output and creating a ROM image
or executable file.&nbsp; Each target configuration specifies a linker
specification file, a list of default definitions, and the name of a
post-processing program such as <span style="font-weight: bold;">DLHex</span>
to run to create the final output
file.&nbsp; The specification files used with default target
configurations are generic in nature, and make
certain assumptions about the program; however some of the identifiers
in such specification filse may refer to definitions made
elsewhere.&nbsp; Those definitions are generally part of the target
configuration, and may be modified through command-line options to
make minor changes to the configuration.&nbsp; For example, in WIN32
DLLs, the base address of the DLL may be redefined via the command line
to not collide with other DLLs and thus improve load time.<br>
<br>
<br>
</div>
</div>
</body>
</html>
